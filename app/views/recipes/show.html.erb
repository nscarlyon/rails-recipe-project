<h1 class = "name"><%= @recipe.name %></h1>

<h3>Content</h3>
<div class = "content"> <%= @recipe.content %> </div>

<h3>Ingredients List</h3>
<div class = "ingredients">

<% @recipe.ingredients.each do |i| %>
  Item: <%= i.item.name %> Quantity: <%= i.quantity%> <%= i.unit %><br>
<%end%>
</div>

<h3>Comments</h3>
<div class = "comments">
<% @recipe.comments.each do |c| %>
  <p><%= c.content %> ~by <strong><%= User.find(c.user_id).email %></strong> <br>

    <%if c.user_id == current_user.id %>
     <%=link_to "Edit Comment", edit_recipe_comment_path(@recipe, c) %><br>
     <%=link_to "Delete Comment", recipe_comment_path(@recipe, c), :method => :delete %>
    <%end%>
  </p>
<%end%>
</div>

<script id="recipe-template" type="text/x-handlebars-template">
  <h2>{{name}}</h2>

  <h3>Content</h3>
    <p>{{content}}</p>

  <h3>Ingredients List</h3>
    {{#list ingredients}}
    <strong>Item:</strong> {{item.name}} <strong>Quantity:</strong> {{quantity}} <strong>Unit:</strong>
    {{unit}}{{/list}}
</script>


<p class = "commentLink"><%=link_to "Add Comment", new_recipe_comment_path(@recipe) %></p>

<%if @recipe.user_id == current_user.id%>
  <p><%=link_to "Edit Recipe", edit_recipe_path(@recipe) %>
  <p><%=link_to "Delete Recipe", recipe_path(@recipe), :method => :delete %>
<%end%>

<p><button class= "js-next" data-id="<%=@recipe.id%>" type="button">Next Recipe</button></p>
